<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smooth Random Moving Floating Divs with Binary Timer</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            background-color: #121212;
            color: #fff;
            user-select: none;
        }

        .floating-div {
            position: absolute;
            width: 150px;
            height: 70px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.1s linear;
            font-size: 20px;
        }

        #timer {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 100px;
            background-color: rgba(0, 0, 0, 0);
            padding: 20px;
            border-radius: 5px;
        }

        button {
            background-color: #ff5733;
            color: #fff;
            height: 100%;
            width: 100%;
            border: none;
            border-radius: 5px;
            padding: 15px;
            cursor: pointer;
            font-size: 18px;
        }

        button:hover {
            background-color: #ff2e00;
        }

        .mocking-dialogue {
            position: absolute;
            color: #ffcc00;
            font-size: 16px;
            white-space: nowrap;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        @keyframes cube {
            from {
                transform: scale(0) rotate(0deg) translate(-50%, -50%);
                opacity: 1;
            }
            to {
                transform: scale(20) rotate(960deg) translate(-50%, -50%);
                opacity: 0;
            }
        }

        .background {
            position: fixed;
            width: 100vw;
            height: 100vh;
            top: 0;
            left: 0;
            background: #c2004e;
            overflow: hidden;
        }

        .background li {
            position: absolute;
            top: 80vh;
            left: 45vw;
            width: 10px;
            height: 10px;
            border: solid 1px #ae0046;
            color: transparent;
            transform-origin: top left;
            transform: scale(0) rotate(0deg) translate(-50%, -50%);
            animation: cube 7s ease-in forwards infinite;
        }
    </style>
</head>
<body>
    <ul class="background">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <div id="timer">10100</div>

    <div class="floating-div" id="div1">
        <button id="button1">Catch me!</button>
    </div>
    <div class="floating-div" id="div2">
        <button id="button2">Catch me!</button>
    </div>
    <div class="floating-div" id="div3">
        <button id="button3">Catch me!</button>
    </div>

    <audio id="siren" src="siren.mp3" preload="auto" loop></audio>

    <script>
        const buttons = [
            { div: document.getElementById('div1'), button: document.getElementById('button1'), posX: 0, posY: 0, dirX: 1, dirY: 1 },
            { div: document.getElementById('div2'), button: document.getElementById('button2'), posX: 0, posY: 0, dirX: -1, dirY: 1 },
            { div: document.getElementById('div3'), button: document.getElementById('button3'), posX: 0, posY: -1, dirX: 1, dirY: -1 }
        ];
        const timerDisplay = document.getElementById('timer');
        const siren = document.getElementById('siren');
        const moveSpeed = 8;
        let timer = 20;
        let timerInterval;
        let clickCooldown = false;
        let buttonClicked = false;

        const mockingMessages = [
            "Too slow! ðŸ˜‚",
            "Try again, speedster! ðŸ˜œ",
            "Missed it, better luck next time! ðŸ™ˆ"
        ];

        function moveDivs() {
            buttons.forEach(buttonObj => {
                buttonObj.posX += buttonObj.dirX * moveSpeed;
                buttonObj.posY += buttonObj.dirY * moveSpeed;

                if (buttonObj.posX <= 0 || buttonObj.posX + buttonObj.div.offsetWidth >= window.innerWidth) {
                    buttonObj.dirX *= -1;
                }
                if (buttonObj.posY <= 0 || buttonObj.posY + buttonObj.div.offsetHeight >= window.innerHeight) {
                    buttonObj.dirY *= -1;
                }

                buttonObj.div.style.transform = `translate(${buttonObj.posX}px, ${buttonObj.posY}px)`;
            });

            requestAnimationFrame(moveDivs);
        }

        function updateTimerDisplay() {
            timerDisplay.textContent = timer.toString(2).padStart(5, '0'); // Convert to binary with 5 digits
        }

        function startTimer() {
            updateTimerDisplay(); // Initial display in binary
            timerInterval = setInterval(() => {
                timer--;
                updateTimerDisplay();
                if (timer <= 0) {
                    clearInterval(timerInterval);
                    siren.play();
                }
            }, 1000);
        }

        function showMockingDialogue(message, button) {
            const dialogue = document.createElement('div');
            dialogue.className = 'mocking-dialogue';
            dialogue.textContent = message;

            const buttonRect = button.getBoundingClientRect();
            const offsetX = (Math.random() * 200) - 100;
            const offsetY = (Math.random() * 200) - 100;
            dialogue.style.left = `${buttonRect.left + offsetX}px`;
            dialogue.style.top = `${buttonRect.top + offsetY}px`;

            document.body.appendChild(dialogue);

            setTimeout(() => {
                dialogue.style.opacity = '0';
                setTimeout(() => {
                    dialogue.remove();
                }, 500);
            }, 2000);
        }

        buttons.forEach(buttonObj => {
            buttonObj.button.addEventListener('click', () => {
                if (clickCooldown) {
                    siren.play();
                    return;
                }

                if (buttonObj.button.id === 'button1') {
    // Correct button clicked
    buttonClicked = true;
    clearInterval(timerInterval);
    siren.pause();
    siren.currentTime = 0;
    alert(`Button 1 clicked! Timer stopped.`);
    
    // Get the current URL and navigate to the new path
    const currentUrl = window.location.href;
    window.location.href = currentUrl + 'piano'; // Ensure there's no double slash
} else {
    // Wrong button clicked
    timer -= 5;
    updateTimerDisplay();
    alert('Wrong button! Time reduced by 5 seconds.');
}


                clickCooldown = true;
                setTimeout(() => {
                    clickCooldown = false;
                }, 1000);
            });
        });

        document.addEventListener('click', (event) => {
            buttons.forEach(buttonObj => {
                const buttonRect = buttonObj.button.getBoundingClientRect();
                const clickedInside = (
                    event.clientX >= buttonRect.left &&
                    event.clientX <= buttonRect.right &&
                    event.clientY >= buttonRect.top &&
                    event.clientY <= buttonRect.bottom
                );

                if (!clickedInside && !clickCooldown && !buttonClicked) {
                    const randomMessage = mockingMessages[Math.floor(Math.random() * mockingMessages.length)];
                    showMockingDialogue(randomMessage, buttonObj.button);
                }
            });
        });

        moveDivs();
        startTimer();
    </script>
</body>
</html>
